
type AuthResult {
    accessToken: String!
    refreshToken: String!
}

enum AuthIdentityKind {
    GoogleOAuth2
}


## MUTATIONS

extend type Mutation {
    # Used for both the initial sign-up and subsequent sign-ins
    # Role assignment based on intent:
    # - nil/empty → CLIENT (regular customer)
    # - "cleaner" → CLEANER_ADMIN (company owner from "become a cleaner" flow)
    # - "invite" + valid inviteToken → CLEANER (cleaner joining via invite link)
    authWithIdentityProvider(code: String!, kind: AuthIdentityKind!, intent: String, inviteToken: String): AuthResult!
    # Used for when an existing user session is already associated with the client
    authWithRefreshToken(token: String!): AuthResult!
}
